<!-- First toolbar with menu icon and app name -->
  <mat-toolbar color='primary' class="header">
    <button mat-icon-button aria-label="Menu icon" (click)="sidebar.toggle()">
      <mat-icon>menu</mat-icon>
    </button>
    <a mat-button [routerLink]="['/']"><h2>VirtualLabs</h2></a>

    <span class="example-fill-remaining-space"></span>
    <span *ngIf="currentUser">Welcome back, {{currentUser.email}}</span>
    <button mat-button (click)="openLogin()" *ngIf="!currentUser" >Login</button>
    <button mat-button (click)="logout()" *ngIf="currentUser" >Logout</button>
  </mat-toolbar>


  <!-- Second toolbar with current selected course name -->
  <mat-toolbar class="subheader">
    Course: {{selectedCourseName || '‚ùì'}}
  </mat-toolbar>

<!-- Application views area -->
<mat-sidenav-container [autosize]="true">

  <!-- Left sidenav to choose current view course -->
  <mat-sidenav #sidebar class="navbar" mode="side" opened="true" position="start">
    <div class="container">
      <mat-nav-list>
        <h3 matSubheader>Your available courses &nbsp;</h3>
        <mat-divider>CIao</mat-divider>
        <mat-list-item *ngFor="let course of courseList | async" [routerLink]="[currentUser.role + '/courses/' + course.path]">
          {{course.name}}
        </mat-list-item>
      </mat-nav-list>
    </div>
  </mat-sidenav>
  
    <!-- Current view content -->
    <mat-sidenav-content>
      <!--Display manually a PageNotFound component if the subview notifies an error (like /professor/courses/XXXX where XXXX does not exists)-->
      <app-page-not-found *ngIf="isNotFound | async as what; else elseBlock" [what]="what"></app-page-not-found>
      <ng-template #elseBlock><router-outlet ></router-outlet></ng-template>
    </mat-sidenav-content>
</mat-sidenav-container>